---
title: "In-class Exercise 1: Now You See It!"
date: "January 13, 2024"
date-modified: "last-modified"
toc: true
execute:
  eval: true
  echo: true
  warning: false
editor: visual
---

## Loading R packages

In this hands-on exercise, two R packages will be used. They are:

-   [tidyverse](https://www.tidyverse.org/); and
-   [haven](https://haven.tidyverse.org/)

The code chunk used is as follows:

```{r}
pacman::p_load(tidyverse, haven)
```

Writing code chunks in this way allows entire code to be run section by section, and hence easier to control. Should one write code in python, we can replace {r} with {p}.

Reason for writing with pacman:: in front is to launch/call the package before writing the syntax.

## Importing PISA data

The code chunk below uses [`read_sas()`](https://haven.tidyverse.org/reference/read_sas.html) of [haven](https://haven.tidyverse.org/) to import PISA data into R environment.

```{r}
#| eval: false
stu_qqq <- 
  read_sas("data/cy08msp_stu_qqq.sas7bdat")
```

### Filtering data to obtain SG data
```{r}
#| eval: false
stu_qqq_SG <- stu_qqq %>%
  filter(CNT == "SGP")
```
Indicate a $ to call out the CNT variable in stu_qqq dataset thereafter remove it before running the code.

### Saving the filtered data as a new file
```{r}
#| eval: false
write_rds(stu_qqq_SG,
          "data/stu_qqq_SG.rds")
```
Always remember to indicate the extension i.e. ".rds" when saving the file.

### Calling the file to check if it has been saved correctly
```{r}
stu_qqq_SG <- 
  read_rds("data/stu_qqq_SG.rds")
```
To test, one can clear the environment and rerun the code to see if the data "stu_qqq_SG" appears.

To avoid active code when loading the website, one can indicate "#| eval: false" within the r code chunk.

